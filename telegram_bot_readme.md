# ü§ñ Telegram Channel Automation Bot

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –≤–µ–¥–µ–Ω–∏—è Telegram-–∫–∞–Ω–∞–ª–∞ —Å –ø–∞—Ä—Å–∏–Ω–≥–æ–º GitHub Trending –∏ Habr.

## üìã –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥** GitHub Trending –∏ Habr
- ‚úÖ **AI-–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Claude/OpenAI
- ‚úÖ **–£–º–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** —Å —ç–º–æ–¥–∑–∏ –∏ Markdown
- ‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—É–±–ª–∏–∫–∞—Ü–∏–π
- ‚úÖ **–ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞** —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ **–î–≤–∞ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã**: –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫ –∏ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <your-repo-url>
cd telegram_channel_bot

# –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv venv

# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
# Windows:
venv\Scripts\activate
# Linux/Mac:
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ Telegram –±–æ—Ç–∞

1. –ù–∞–π–¥–∏—Ç–µ [@BotFather](https://t.me/botfather) –≤ Telegram
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞ –∫–æ–º–∞–Ω–¥–æ–π `/newbot`
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –∏ –ø–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
4. –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –≤–∞—à –∫–∞–Ω–∞–ª –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ ID –∫–∞–Ω–∞–ª–∞

```bash
# –û—Ç–ø—Ä–∞–≤—å—Ç–µ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∫–∞–Ω–∞–ª
# –ó–∞—Ç–µ–º –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ (–∑–∞–º–µ–Ω–∏—Ç–µ YOUR_BOT_TOKEN):
https://api.telegram.org/botYOUR_BOT_TOKEN/getUpdates

# –ù–∞–π–¥–∏—Ç–µ "chat":{"id": -1001234567890} - —ç—Ç–æ ID –≤–∞—à–µ–≥–æ –∫–∞–Ω–∞–ª–∞
```

### 4. –ü–æ–ª—É—á–µ–Ω–∏–µ AI API –∫–ª—é—á–∞

**–î–ª—è Claude (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [console.anthropic.com](https://console.anthropic.com)
2. –°–æ–∑–¥–∞–π—Ç–µ API –∫–ª—é—á
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–æ–¥–µ–ª—å: `claude-sonnet-4-20250514`

**–î–ª—è OpenAI (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞):**
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [platform.openai.com](https://platform.openai.com)
2. –°–æ–∑–¥–∞–π—Ç–µ API –∫–ª—é—á

### 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
# Telegram –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
TELEGRAM_BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
CHANNEL_ID=@your_channel

# AI API –∫–ª—é—á
AI_API_KEY=sk-ant-api03-xxx...
AI_PROVIDER=claude

# –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
GITHUB_ENABLED=true
HABR_ENABLED=true

# GitHub –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
GITHUB_LANGUAGE=python
GITHUB_PERIOD=daily

# Habr –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
HABR_PERIOD=daily
HABR_LIMIT=10

# –ü—É–±–ª–∏–∫–∞—Ü–∏—è
POSTS_PER_CYCLE=3
DELAY_BETWEEN_POSTS=300
POSTING_INTERVAL_HOURS=6

# –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã
RUN_MODE=continuous
```

### 6. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

```bash
# –û–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
python main.py

# –ò–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ RUN_MODE=continuous –≤ .env –¥–ª—è –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã
python main.py
```

## üìñ –ü–æ–¥—Ä–æ–±–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|----------|----------|----------------------|
| `TELEGRAM_BOT_TOKEN` | –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç BotFather | - |
| `CHANNEL_ID` | ID –∫–∞–Ω–∞–ª–∞ –∏–ª–∏ @username | - |
| `AI_API_KEY` | API –∫–ª—é—á Claude/OpenAI | - |
| `AI_PROVIDER` | –ü—Ä–æ–≤–∞–π–¥–µ—Ä AI (claude/openai) | claude |
| `GITHUB_ENABLED` | –í–∫–ª—é—á–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ GitHub | true |
| `HABR_ENABLED` | –í–∫–ª—é—á–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ Habr | true |
| `GITHUB_LANGUAGE` | –Ø–∑—ã–∫ –¥–ª—è GitHub (python, javascript, all) | python |
| `GITHUB_PERIOD` | –ü–µ—Ä–∏–æ–¥ –¥–ª—è GitHub (daily, weekly, monthly) | daily |
| `HABR_PERIOD` | –ü–µ—Ä–∏–æ–¥ –¥–ª—è Habr (daily, weekly, monthly) | daily |
| `HABR_LIMIT` | –ú–∞–∫—Å–∏–º—É–º —Å—Ç–∞—Ç–µ–π —Å Habr | 10 |
| `POSTS_PER_CYCLE` | –ü–æ—Å—Ç–æ–≤ –∑–∞ –æ–¥–∏–Ω —Ü–∏–∫–ª | 3 |
| `DELAY_BETWEEN_POSTS` | –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –ø–æ—Å—Ç–∞–º–∏ (—Å–µ–∫) | 300 |
| `POSTING_INTERVAL_HOURS` | –ò–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É —Ü–∏–∫–ª–∞–º–∏ (—á–∞—Å—ã) | 6 |
| `RUN_MODE` | –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã (once/continuous) | continuous |

### –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

**Once (–æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π):**
```env
RUN_MODE=once
```
–ë–æ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑, –æ–ø—É–±–ª–∏–∫—É–µ—Ç –ø–æ—Å—Ç—ã –∏ –∑–∞–≤–µ—Ä—à–∏—Ç —Ä–∞–±–æ—Ç—É.

**Continuous (–Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π):**
```env
RUN_MODE=continuous
```
–ë–æ—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ, –ø—É–±–ª–∏–∫—É—è –ø–æ—Å—Ç—ã —Å –∑–∞–¥–∞–Ω–Ω—ã–º –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º.

## üê≥ –ó–∞–ø—É—Å–∫ –≤ Docker

–°–æ–∑–¥–∞–π—Ç–µ `Dockerfile`:

```dockerfile
FROM python:3.11-slim

WORKDIR /app

COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

COPY . .

CMD ["python", "main.py"]
```

–°–æ–∑–¥–∞–π—Ç–µ `docker-compose.yml`:

```yaml
version: '3.8'

services:
  bot:
    build: .
    env_file:
      - .env
    volumes:
      - ./bot_data.db:/app/bot_data.db
    restart: unless-stopped
```

–ó–∞–ø—É—Å–∫:

```bash
docker-compose up -d
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏

–ë–æ—Ç –≤—ã–≤–æ–¥–∏—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª—å:

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
tail -f bot.log

# –° Docker
docker-compose logs -f bot
```

## üîß –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–∞—Ä—Å–µ—Ä–∞

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –≤ `parsers/`:

```python
# parsers/your_parser.py
class YourParser:
    async def fetch_content(self):
        # –í–∞—à–∞ –ª–æ–≥–∏–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞
        return []
```

2. –î–æ–±–∞–≤—å—Ç–µ –≤ `main.py`:

```python
from parsers.your_parser import YourParser

# –í __init__:
self.your_parser = YourParser()

# –í collect_content:
your_items = await self.your_parser.fetch_content()
content_items.extend(your_items)
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ AI –ø—Ä–æ–º–ø—Ç–æ–≤

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –º–µ—Ç–æ–¥—ã –≤ `ai/content_processor.py`:
- `_create_github_prompt()` - –¥–ª—è GitHub –ø–æ—Å—Ç–æ–≤
- `_create_habr_prompt()` - –¥–ª—è Habr –ø–æ—Å—Ç–æ–≤

## üõ†Ô∏è Troubleshooting

### –û—à–∏–±–∫–∞ "Unauthorized"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–∞ –±–æ—Ç–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–∞–Ω–∞–ª

### –û—à–∏–±–∫–∞ "Chat not found"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å CHANNEL_ID
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç —è–≤–ª—è–µ—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –∫–∞–Ω–∞–ª–∞

### –û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å GitHub –∏ Habr
- –í–æ–∑–º–æ–∂–Ω–æ, –∏–∑–º–µ–Ω–∏–ª–∞—Å—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–∞–π—Ç–∞ (–æ–±–Ω–æ–≤–∏—Ç–µ –ø–∞—Ä—Å–µ—Ä—ã)

### AI –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å AI_API_KEY
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –µ—Å—Ç—å —Å—Ä–µ–¥—Å—Ç–≤–∞ –Ω–∞ –∞–∫–∫–∞—É–Ω—Ç–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–∏–º–∏—Ç—ã API

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤ —Å–æ–∑–¥–∞–π—Ç–µ Issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.

## üéØ Roadmap

- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Reddit
- [ ] –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- [ ] –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- [ ] –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–π
- [ ] –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–∞–Ω–∞–ª—ã
- [ ] Telegram-–∫–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–æ—Ç–æ–º
